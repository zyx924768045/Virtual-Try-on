(window.duAI=window.duAI||[]).push([[74],{1006:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.prefix+"-recognition"},[e("div",{staticClass:"ai-container"},[e("textDemo",{attrs:{isCloud:this.isCloud}})],1)])};r._withStripped=!0;var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"corrector"},[n("div",{staticClass:"mid-down-title"},[n("span",{staticClass:"down-title-des"},[t._v("请输入一段想分析的文本：")]),t._v(" "),n("span",{staticClass:"com-click",on:{click:t.setInputValue}},[t._v("随机示例")])]),t._v(" "),n("div",{staticClass:"mid-input"},[n("div",{class:["glass-model",{"frosted-glass":t.isFetching||t.showSensitiveError}]},[n("div",{staticClass:"mid-form-cover"},[n("div",{staticClass:"com-txt"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textValue,expression:"textValue"}],staticClass:"com-txt-area",attrs:{spellcheck:"false",maxLength:t.maxLength},domProps:{value:t.textValue},on:{input:function(e){e.target.composing||(t.textValue=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"ed-form-down"},[t.textValue?n("span",{staticClass:"ed-down-tips"},[t._v("\n                        还可以输入"),n("span",{staticClass:"ed-tips-in"},[t._v(t._s(t.residueLength))]),t._v("个字\n                    ")]):n("span",{staticClass:"ed-down-tips ed-down-tips-empty"},[t._v("请输入中文文本")])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isFetching,expression:"isFetching"}],staticClass:"msg-tip"},[t._v("文本解析中...")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSensitiveError,expression:"showSensitiveError"}],staticClass:"msg-tip"},[t._v("\n            很抱歉，文本中可能存在敏感内容,请"),n("span",{staticClass:"retry",on:{click:t.reEnter}},[t._v("重新输入")]),t._v("。\n        ")])]),t._v(" "),n("div",{staticClass:"mid-btn"},[n("span",{class:t.showSensitiveError?"mid-btn-disable":"mid-btn-span",on:{click:t.submit}},[t._v("\n            开始分析\n        ")])]),t._v(" "),t.showSensitiveError?t._e():n("div",{staticClass:"demo-result"},[n("div",{staticClass:"demo-result-title"},[t._v("分析结果")]),t._v(" "),n("div",{staticClass:"demo-result-body"},[t.textResult?n("Corrector",{attrs:{str:t.textResult.text,fragment:t.fragment}}):t._e()],1),t._v(" "),t.correctLength?n("div",{staticClass:"demo-result-tips"},[t._v("\n            该文本中有"),n("span",{staticClass:"ed-tips-in"},[t._v(t._s(t.correctLength))]),t._v("处错别字，已高亮显示\n        ")]):t.textResult.text&&!t.correctLength?n("div",{staticClass:"demo-result-tips"},[t._v("该文本中未发现有错误字")]):t._e(),t._v(" "),t.submitErr&&t.textValue.trim()?n("div",{staticClass:"demo-result-submiterr"},[t._m(0),t._v(" "),n("div",{staticClass:"demo-result-inner-text"},[t._v(t._s(t.errorText))])]):t._e()])])},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"demo-result-inner-img"},[e("img",{attrs:{src:n(1865),alt:"",width:"72px"}})])}];s._withStripped=!0;var o=n(38),a=n.n(o),c=n(14),u=n.n(c),l=n(2436),d=(n(135),n(782),n(48),n(498)),v=n.n(d),f=n(1844),h=v.a,m={name:"Corrector",functional:!0,props:{str:String,fragment:Array},render:function(t,e){var n=e.props,r=n.str,s=n.fragment,i=[];if(r&&s)for(var o=function(e,n){var o=s.find(function(t){return Object(f.f)(r,t.begin_pos)===e});if(o){var c=o.ori_frag.length;i.push(t(h,{attrs:{content:o.correct_frag,placement:"bottom"}},[t("span",{class:"demo-result-highlight"},[o.ori_frag])])),e+=c-1}else i.push(t("span",[r[e]]));a=e},a=0,c=r.length;a<c;a++)o(a);return i}};n(1861),n(1849);var p={name:"text_corrector",components:{Corrector:m},data:function(){return{textValue:"",maxLength:255,lastIndex:-1,textJson:l.textJson,isFetching:!1,textResult:{},correctLength:0,fragment:[],errorText:"",submitErr:!1,showSensitiveError:!1}},computed:{residueLength:function(){return this.maxLength-this.textValue.length}},created:function(){this.setInputValue(),this.postForm(),this.debouncedPostForm=a()(this.postForm,600)},methods:{setInputValue:function(){if(!this.isFetching&&!this.showSensitiveError){var t=Math.floor(8*Math.random());if(this.lastIndex===t)return void this.setInputValue();this.lastIndex=t;var e=this.textJson[t];this.textValue=e.content,this.submitErr=!1,this.postForm()}},submit:function(){this.isFetching||this.showSensitiveError||this.debouncedPostForm()},postForm:function(){var t=this,e=this.textValue.trim();if(e){this.isFetching=!0;var n={apiType:"nlp",type:"ecnet",text:e};u.a.post("/aidemo").type("form").send(n).then(function(e){var n=e.body;t.isFetching=!1;var r=n.errno;if(r){if(110===r)return void(t.showSensitiveError=!0);t.errorText=function(t){return[1,2,3,4,6,17,18,19,100,110,111,282e3].indexOf(t)>=0?"服务暂时不可用，建议您稍后体验":[282002,282004,282131,282133].indexOf(t)>=0?"输入信息有误，请检查后重新体验":"查录内容暂未收录，换一组试试"}(r),t.submitErr=!0,t.resetData()}else{t.submitErr=!1;var s=n.data;t.textResult=s,t.fragment=s.item.vec_fragment,t.correctLength=t.fragment.length}}).catch(function(){t.isFetching=!1,t.submitErr=!0,t.errorText="服务暂时不可用,建议您稍后体验",t.resetData()})}},resetData:function(){this.correctLength=0,this.textResult={}},reEnter:function(){this.showSensitiveError=!1,this.textValue=""}}},g=(n(2437),n(0)),x=Object(g.a)(p,s,i,!1,null,null,null);x.options.__file="src/demo/nlp/text_corrector/textDemo.vue";var _={inject:{isCloud:{default:!1}},components:{textDemo:x.exports},data:function(){return{prefix:"tech"}},methods:{}},w=(n(2438),Object(g.a)(_,r,[],!1,null,null,null));w.options.__file="src/demo/entry/nlp/text_corrector.vue";e.default=w.exports},1844:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return d});n(135),n(132),n(34),n(54),n(55);var r=n(14),s=n.n(r);function i(t,e){var n=t.width,r=t.height,s=e.width/n,i=e.height/r,o=1;return s>1&&i>1?o=s>i?1/s:1/i:s>1?o=1/s:i>1&&(o=1/i),o}function o(t){return new Promise(function(e,n){var r=new Image;r.src=t,r.onload=function(){e(t)},r.onerror=function(){n("无法下载图片 图片URL错误或者无效，请检查URL")}})}function a(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(t){e(t.target.result)},r.onerror=function(){n("图片上传失败")}})}function c(t){var e=t.type,n=t.query,r=t.formData,i=t.codeMap,o=t.errMsgMap;return new Promise(function(t,a){s.a.post("/aidemo").type(e).query(n).send(r).then(function(e){var n=e.body,r=n.data,s=n.errno||r&&r.error_code;if(s){var c=function(t,e,n){var r=Object.keys(e).find(function(n){return-1!==e[n].indexOf(t)})||"serverErr";return n[r]}(s,i,o);a(c)}else t(n)}).catch(function(){a(o.serverErr)})})}function u(t){return t.charCodeAt(0)<127?1:2}function l(t,e){var n=0;if(0===e)return 0;for(var r=0;r<t.length;r++)if((n+=u(t[r]))>=e)return r+1;return t.length-1}function d(t){return t.indexOf("data:image")>-1}},1849:function(t,e,n){},1861:function(t,e,n){},1865:function(t,e,n){t.exports=n.p+"images/technology/nlp_apply/text_corrector/error.png"},2014:function(t,e,n){},2015:function(t,e,n){},2436:function(t,e){t.exports={textJson:[{content:"汽车车型使用非全尺寸备胎，也可使车型后备箱厢空间更大，地板更平等忧点是明显的，但也给驾驶车辆人群和人士带来许多不便，有使用限制条件，作为非全尺寸备胎的价值，对生产厂家是有利的，可以节约成本，对汽车驾驶者是临时可用但很麻烦的心理负担。"},{content:"我们每天的生活都离不开手机了，但是每天晚上手机充电的时候，你的手机在那里呢？"},{content:"他说我退休了有的是时间，我就这么学，把中里巴人《求医不如求己》一套四册书全都看完了。他还练会了八段锦。把一套《针灸大全》里的人体经络血位分布图，全背记下来了。"},{content:"1、主观性强、脾气较大，做事很执着。从好的方面看，这种人做事很有决心、恒心，认定的目标，一定会排出万难，不会半途而废，因此多在事业上取得成就。从另一方面看，即使明知是错的事情，也会错到底，是死不悔改的硬脾气。"},{content:"搜浪人体会过创业的艰辛，深知成功的来之不易。面对新世纪的机遇与挑战，搜浪人将会以更热情、更饱满的精神面貌，为客户送去更优质的服务。“建立良好的信誉度、建立广泛和良好的合作关系”一直是我们的目标，而且实践证明，我们也是在一步一步、脚踏实地的按照这样做的。相信我们，我们有更好的发展能力和更强的竟争能力，让我们携手共进，共同把握互联网络信息化时代的无限商机！"},{content:"日前，地球上的绿色之肺——森林正在一天天地委缩。近200年来，地球上的森林大约已有三分之一被采筏和毁掉；而另一方面，由于燃烧物增多，二氧化碳的排放量在巨烈增加。"},{content:"她眼睛里坦荡清明的笑意像一百只毛绒绒的猫爪子"},{content:"汽车形式在这条隧道上"},{content:"中国人工只能布局基本划分"},{content:"权利的游戏第八季什么时候播出"},{content:"时尚人士更是趋之若骛"},{content:"无严重急、慢性病发症的轻型糖尿病"},{content:"最近根据dc漫画改变的电影《神奇女侠》正在热映"},{content:"在进行现场处理后如低血糖患者给予补充糖份、咳嗽晕厥的予以止咳等"},{content:"另人叫绝的防区外正确冲击手段"},{content:"春上春树这次诺贝尔奖又陪跑了"}]}},2437:function(t,e,n){"use strict";var r=n(2014);n.n(r).a},2438:function(t,e,n){"use strict";var r=n(2015);n.n(r).a}}]);